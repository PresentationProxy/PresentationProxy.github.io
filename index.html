<!DOCTYPE html>
	<head>
		<title>SQL Injections</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		<!-- custom js and css below --!>

	 	<link rel="stylesheet" href="index.css">
		<script src="index.js"></script>

	</head>
	<body>
		<div class="jumbotron">
			<center><h1>A Little About SQL Injections</h1>
				<h4>Jonathan Quang and Daniel Chernovolenko</h4></center>
		</div>

		<div id="MainBodyStuff"><center>
			<h2>What is a SQL Injection (SQLi)?</h2>
			<p>SQL injection refers to an attack where an attacker can execute malicious SQL statements (known as payloads).
			This is typically done by exploiting poorly designed construction of SQL statements in backend code.
			Hackers can add, modify, and delete data stored in the DB, as well as gain access to sensitive data.
			Perhaps one of the most recently famous examples of an SQL injection were the <a href="https://motherboard.vice.com/en_us/article/ne3bv7/equifax-breach-social-security-numbers-researcher-warning">vulnerable Equifax servers.</a>
			</p>
			<h2>Review of How We Interact with SQL DBs in Class</h2>
			<p>We typically interact with our SQL Databases using Python, Flask, and SQLite3. Database files contain tables with names for each column</p>
			<img src="tableExample.png">
			<br>
			<h2>How do we Typically Interact with SQL DBs in Python?</h2>
			<br>
			<p>First, we inport the sqlite3 library. We then create a connection to the database, and from the connection, we set a variable to be the cursor of the connection. After, we execute an SQL statement, commit changes, and close the connection. See the following example:
			</p>
			<br>
			<pre>
				<code>	Import sqlite3
					conn=sqlite3.connect('example.db')
					c=conn.cursor()
					c.execute("CREATE TABLE students (name text, grade real)")
					conn.commit()
					conn.close()</code>
			</pre>
			<br>
			<h2>How Does an Enduser Give Input and Recieve Output</h2>
			<p>The user of a web application like the ones we have done in class gives information in the form of an &ltinput&gt HTML tag. As developers, we store the resulting POST or GET request data in a python variable. For this example, this variable will be <code>userName</code>. In the following codeexample, we print out relevant data to a single user name:
			</p>
			<br>
			<pre>
				<code>sqlStatement = "SELECT * FROM students WHERE name = " + userName
				result = c.execute(sqlStatement)
				for row in result:
      					print row</code>
			</pre>


			<br>
			<h2>Security Flaw - SQL Injections</h2>
			<p> Look at the part where we compose the sql statement: <code>sqlStatement = "SELECT * FROM students WHERE name = " + userName</code>. If a malicious user chooses not to put their username, but rather some logic stuff, such as "105 OR 1=1" into the &ltinput&gt HTML tag, the resulting string, <code>sqlStatement</code> is now equal to <code>"SELECT * FROM students WHERE name = 105 OR 1=1"</code> The executed code now looks like the following:
			</p>
			<br>
			<pre>
				<code>sqlStatement = "SELECT * FROM students WHERE name = 105 OR 1=1"
				result = c.execute(sqlStatement)
				for row in result:
      				print row</code>
			</pre>
			<br>
			<p>name=105 or 1=1 is a logical statement that is always true. This results in the entire table of students being printed out.
			</p>
			<br>
			<h2>SQL Injections, but Even Worse</h2>
			<p>Recall that ";" can be used to denote the end of an SQL statement. If a semicolon is used in the &ltinput&gt HTML element, then a hacker can put in any SQL statement they wish. Let's say that they put <code>105; DROP TABLE students</code>. The <code>sqlStatement</code> string is now <code>"SELECT * FROM students WHERE  name = 105; DROP TABLE students"</code>. This hacker has now just caused the loss of an entire table.
			</p>
			<br>
			<p>
			Hackers can also modify data using UPDATE-SET-WHERE. Lets say they type in <code>105;UPDATE students SET testScore1 = 100 WHERE name="Bob Ross"</code>. Now our hacker, Bob Ross, has given himself a free 100 for the class.
			</p>
			<br>
			<h2>There are Three Types Of SQL Injections </h2>
			<br>
			<ul>
				<li>In-Band SQLi</li>
				<li>Inferential SQL Injection (Blind SQLi)</li>
				<li>Out-of-band SQLi</li>
			</ul>



			</center></div>

	</body>
</html>
